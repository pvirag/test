{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/friends.json","js/default.js","js/modules/setup-view.js","js/modules/setup-event-handlers.js","js/modules/generate-room-data.js","js/modules/process-data.js","js/modules/generate-friends-message.js","js/modules/id-generator.js","js/modules/pretify-name.js"],"names":["setupView","require","setupEventHandlers","$","setupNav","parentClass","data","outputListItem","outputOption","activeClass","id","name","append","setupFriendsMessage","message","toggleClass","config","module","exports","navClass","l","length","i","handleDisplay","$el","siblings","hide","fadeIn","handleSelection","removeClass","addClass","val","handleSelect","$dropDown","on","e","target","value","handleList","$roomList","children","attr","generateRoomData","roomName","friendsData","Array","isArray","response","pretifyName","generateMessage","generateId","getRoomsData","roomsData","room","friends","hasOwnProperty","push","dataFile","chosenOnes","remaining","friendsCount","messageSuffix","messageOtherFriend","sort","join","slice","fixedName","replace","toLowerCase","prettyName","part","toUpperCase"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports={\"deluxe\":{\"friends\":[\"Bob Smith\",\"Jane Doe\",\"Bubba Hyde\",\"Betsy Toheavens\"]},\"shared\":{\"friends\":[\"Bob Smith\"]},\"animal-friendly\":{\"friends\":[\"Bob Smith\",\"Jane Doe\",\"Bubba Hyde\"]},\"another\":{\"friends\":[\"Bob Smith\",\"Jane Doe\"]},\"and-another\":{\"friends\":[]}}","'use strict';\n\nvar setupView = require('./modules/setup-view'),\n    setupEventHandlers = require('./modules/setup-event-handlers');\n\n$(function() {\n    setupView();\n    setupEventHandlers();\n});\n","'use strict';\n\nvar config = require('./generate-room-data');\n\n/**\n * setupNav\n * @param  {string} parentClass\n * @param  {object} data\n */\n\nfunction setupNav(parentClass, data) {\n    if (!parentClass || !data) {\n        return;\n    }\n\n    var activeClass = '',\n        outputListItem,\n        outputOption;\n\n    if (data.id === 'deluxe') {\n        activeClass = ' class=\"active\"';\n    }\n\n    outputListItem = '<li data-id=\"' + data.id +\n        '\"' + activeClass + '>' + data.name + '</li>';\n\n    outputOption = '<option data-id=\"' + data.id + '\" value=\"' +\n        data.id + '\">' + data.name + '</option>';\n\n    $('ul' + parentClass).append(outputListItem);\n    $('select' + parentClass).append(outputOption);\n}\n\n/**\n * setupFriendsMessage\n * @param  {object} data\n */\n\nfunction setupFriendsMessage(data) {\n    if (!data || !data.message) {\n        return;\n    }\n\n    $('#' + data.id + ' .friends-info')\n        .append(data.message)\n        .toggleClass('hidden');\n}\n\n/**\n * init\n */\n\nmodule.exports = function init() {\n    var navClass = '.room-list' ,\n        data = config(),\n        l = data.length,\n        i = 0;\n\n    if (!$(navClass).length) {\n        return;\n    }\n\n    for (i; i < l; i += 1) {\n        setupNav(navClass, data[i]);\n        setupFriendsMessage(data[i]);\n    }\n};\n","'use strict';\n\n/**\n * handleDisplay\n * @param  {string} id\n */\n\nfunction handleDisplay(id) {\n    if (!id) {\n        return;\n    }\n\n    var $el = $('#' + id);\n\n    $el.siblings('article').hide();\n    $el.fadeIn('slow');\n}\n\n/**\n * handleSelection\n * @param  {string} id\n */\n\nfunction handleSelection(id) {\n    if (!id) {\n        return;\n    }\n\n    // unordered list\n    $('ul.room-list li').removeClass('active');\n    $('[data-id=\"' + id + '\"]').addClass('active');\n\n    // select (drop-down)\n    $('select.room-list').val(id);\n}\n\n/**\n * handleSelect attach event on drop-down\n */\n\nfunction handleSelect() {\n    var $dropDown = $('select.room-list');\n\n    $dropDown.on('change', function(e) {\n        var id = e.target.value;\n\n        handleDisplay(id);\n        handleSelection(id);\n    });\n}\n\n/**\n * handleList attach event on list items\n */\n\nfunction handleList() {\n    var $roomList = $('ul.room-list');\n\n    $roomList.children('li').on('click', function(e) {\n        var id = $(e.target).attr('data-id');\n\n        handleDisplay(id);\n        handleSelection(id);\n    });\n}\n\n/**\n * setupEvenHandlers\n */\n\nmodule.exports = function setupEventHandlers() {\n    handleList();\n    handleSelect();\n};\n","'use strict';\n\nvar getRoomsData = require('./process-data'),\n    generateMessage = require('./generate-friends-message'),\n    generateId = require('./id-generator'),\n    pretifyName = require('./pretify-name'),\n    roomsData = getRoomsData();\n\n/**\n * generateRoomData\n * @param  {string} roomName\n * @param  {array} friendsData\n * @return {object}\n */\n\nfunction generateRoomData(roomName, friendsData) {\n    if (!roomName || !friendsData ||\n        typeof roomName !== 'string' ||\n        !Array.isArray(friendsData)) {\n\n        return;\n    }\n\n    var response = {\n        name: pretifyName(roomName),\n        message: generateMessage(friendsData),\n        id: generateId(roomName)\n    };\n\n    return response;\n}\n\n/**\n * generateRoomsConfig\n * @return {array} array of room data objects\n */\n\nmodule.exports = function generateRoomsConfig() {\n    var room,\n        name,\n        friends,\n        response = [];\n\n    for (room in roomsData) {\n        if (roomsData.hasOwnProperty(room)) {\n            name = room;\n\n            if (roomsData[room].hasOwnProperty('friends')) {\n                friends = roomsData[room].friends;\n                response.push(generateRoomData(name, friends));\n            }\n        }\n    }\n\n    return response;\n};\n","'use strict';\n\nvar data = require('../friends.json');\n\n/**\n * processData\n * @param  {JSON} dataFile as json file dependency\n * @return {JSON}\n */\n\nmodule.exports = function processData(dataFile) {\n    if (!dataFile) {\n        return data;\n    }\n    return dataFile;\n};\n","'use strict';\n\n/**\n * generateMessage\n * @param  {array} friends\n * @return {string} compiled message for nr of friends\n */\n\nmodule.exports = function generateMessage(friends) {\n    if (!friends || !Array.isArray(friends) || !friends.length) {\n        return;\n    }\n\n    var friendsCount = friends.length,\n        messageSuffix = ' stayed here',\n        messageOtherFriend = ' other friend',\n        message,\n        chosenOnes,\n        remaining;\n\n    if (friendsCount > 1) {\n        friends.sort();\n    }\n\n    if (friendsCount === 1) {\n        message = friends[0] + ' has' + messageSuffix;\n\n        return message;\n    }\n\n    if (friendsCount === 2) {\n        message = friends.join(' and ') + ' have' +\n            messageSuffix;\n\n        return message;\n    }\n\n    if (friendsCount > 2) {\n        chosenOnes = friends.slice(0,2);\n        remaining = friendsCount - 2;\n\n        message = chosenOnes.join(', ') + ' and ' + remaining +\n            messageOtherFriend +\n            (remaining > 1 ? 's' : '')  +\n            ' have' + messageSuffix;\n\n        return message;\n    }\n};\n","'use strict';\n\n/**\n * generateId generate hyphenated lowercase string\n * @param  {string} name\n * @return {string}\n */\n\nmodule.exports = function generateId(name) {\n    if (!name || name === '' || typeof name !== 'string') {\n        return;\n    }\n\n    var fixedName = name.replace(/\\s/, '-');\n\n    return fixedName.toLowerCase();\n};\n","'use strict';\n\n/**\n * pretifyName replaces '-' with spaces and capitalize\n * @param  {string} name\n * @return {string}\n */\n\nmodule.exports = function pretifyName(name) {\n    if (!name || name === '' || typeof name !== 'string') {\n        return;\n    }\n\n    var fixedName = name.replace(/(\\-|\\s)/, ' '),\n        prettyName = fixedName.replace(/(?:^|\\s)\\S/g , function(part) {\n            return part.toUpperCase();\n        });\n\n    return prettyName;\n};\n"]}